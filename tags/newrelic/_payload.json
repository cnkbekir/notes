[{"data":1,"prerenderedAt":128},["ShallowReactive",2],{"/tags/newrelic":3,"search-api":127},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":6,"title":8,"description":6,"id":9,"date":10,"categories":11,"tags":13,"cover":6,"readingTime":17,"body":22,"_type":121,"_id":122,"_source":123,"_file":124,"_stem":125,"_extension":126},"/nuxt-capacitor-newrelic","",false,"Nuxt - Capacitor - New Relic","2","2023-11-16",[12],"web",[14,15,16],"nuxt","capacitor","newrelic",{"text":18,"minutes":19,"time":20,"words":21},"3 min read",2.02,121200,404,{"type":23,"children":24,"toc":118},"root",[25,33,43,48,62,67,75,87,92,100,105,113],{"type":26,"tag":27,"props":28,"children":29},"element","p",{},[30],{"type":31,"value":32},"text","Nuxt ve Capacitor ile geliştirdiğim mobil uygulamamı takip etmek için New Relic'i nasıl kurduğumu anlatıcam.\nÖncelikle New Relic ekibinin sunduğu paketi yüklüyoruz:",{"type":26,"tag":34,"props":35,"children":37},"pre",{"code":36},"npm i @newrelic/newrelic-capacitor-plugin && npx cap sync\n",[38],{"type":26,"tag":39,"props":40,"children":41},"code",{"__ignoreMap":6},[42],{"type":31,"value":36},{"type":26,"tag":27,"props":44,"children":45},{},[46],{"type":31,"value":47},"New Relic hesabımızda Add Data butonuyla kurulum ekranını açarak listeden Capacitor'ü seçiyoruz. Buradaki bilgilerin çoğunu o ekranda da bulabilirsiniz. Alacağımız token'ı aşağıdaki kodda da kullanıcaz.",{"type":26,"tag":27,"props":49,"children":50},{},[51,53],{"type":31,"value":52},"Vue.js projelerinde App.vue dosyasında yapılan paket ayarlarını Nuxt projelerinde plugins klasöründe yapabiliyoruz. Buraya eklediğimiz dosyalar otomatik çalışıyor. Bilgi için: ",{"type":26,"tag":54,"props":55,"children":59},"a",{"href":56,"rel":57},"https://nuxt.com/docs/guide/directory-structure/plugins",[58],"nofollow",[60],{"type":31,"value":61},"plugins/ · Nuxt Directory Structure",{"type":26,"tag":27,"props":63,"children":64},{},[65],{"type":31,"value":66},"Projede plugins klasörü altında newrelic.ts dosyasını oluşturuyoruz:",{"type":26,"tag":34,"props":68,"children":70},{"code":69},"import { NewRelicCapacitorPlugin, NREnums, AgentConfiguration } from '@newrelic/newrelic-capacitor-plugin';\nimport { Capacitor } from '@capacitor/core';\n\nexport default defineNuxtPlugin(() => {\n  var appToken;\n  if (Capacitor.getPlatform() === 'ios') {\n    appToken = '...';\n  } else {\n    appToken = '...';\n  }\n\n  let agentConfig : AgentConfiguration = {\n    //Android Specific\n    // Optional:Enable or disable collection of event data.\n    analyticsEventEnabled: true,\n\n    // Optional:Enable or disable crash reporting.\n    crashReportingEnabled: true,\n\n    // Optional:Enable or disable interaction tracing. Trace instrumentation still occurs, but no traces are harvested. This will disable default and custom interactions.\n    interactionTracingEnabled: true,\n\n    // Optional:Enable or disable reporting successful HTTP requests to the MobileRequest event type.\n    networkRequestEnabled: true,\n\n    // Optional:Enable or disable reporting network and HTTP request errors to the MobileRequestError event type.\n    networkErrorRequestEnabled: true,\n\n    // Optional:Enable or disable capture of HTTP response bodies for HTTP error traces, and MobileRequestError events.\n    httpResponseBodyCaptureEnabled: true,\n\n    // Optional:Enable or disable agent logging.\n    loggingEnabled: true,\n\n    // Optional:Specifies the log level. Omit this field for the default log level.\n    // Options include: ERROR (least verbose), WARNING, INFO, VERBOSE, AUDIT (most verbose).\n    logLevel: NREnums.LogLevel.ERROR,\n\n    // iOS Specific\n    // Optional:Enable/Disable automatic instrumentation of WebViews\n    webViewInstrumentation: true,\n\n    // Optional:Set a specific collector address for sending data. Omit this field for default address.\n    // collectorAddress: \"\",\n\n    // Optional:Set a specific crash collector address for sending crashes. Omit this field for default address.\n    // crashCollectorAddress: \"\",\n\n    // Optional:Enable or disable sending JS console logs to New Relic.\n    sendConsoleEvents: true,\n\n    // Optional: nable or disable reporting data using different endpoints for US government clients.\n     fedRampEnabled: false\n  }\n\n  NewRelicCapacitorPlugin.start({appKey:appToken, agentConfiguration:agentConfig})\n})\n\n",[71],{"type":26,"tag":39,"props":72,"children":73},{"__ignoreMap":6},[74],{"type":31,"value":69},{"type":26,"tag":27,"props":76,"children":77},{},[78,80],{"type":31,"value":79},"Burada fedRampEnabled ayarı ile ilgili bir sorun varmış. Bundan dolayı çok test yapmak zorunda kaldım. GitHub'da bir issue oluşturdum ve sorun kısa sürede çözüldü: ",{"type":26,"tag":54,"props":81,"children":84},{"href":82,"rel":83},"https://github.com/newrelic/newrelic-capacitor-plugin/issues/59",[58],[85],{"type":31,"value":86},"Can't get android logs - Nuxt3 - Ionic · Issue #59 · newrelic/newrelic-capacitor-plugin (github.com)",{"type":26,"tag":27,"props":88,"children":89},{},[90],{"type":31,"value":91},"Android için build.gradle dosyamızı düzenliyoruz:",{"type":26,"tag":34,"props":93,"children":95},{"code":94},"buildscript {\n    ...\n    repositories {\n      ...\n      mavenCentral()\n    }\n    dependencies {\n      ...\n      classpath \"com.newrelic.agent.android:agent-gradle-plugin:7.1.0\"\n    }\n  }\n",[96],{"type":26,"tag":39,"props":97,"children":98},{"__ignoreMap":6},[99],{"type":31,"value":94},{"type":26,"tag":27,"props":101,"children":102},{},[103],{"type":31,"value":104},"Ve app/build.gradle dosyamızı düzenliyoruz:",{"type":26,"tag":34,"props":106,"children":108},{"code":107},"apply plugin: \"com.android.application\"\napply plugin: 'newrelic' // \u003C-- bu satırı ekle\n",[109],{"type":26,"tag":39,"props":110,"children":111},{"__ignoreMap":6},[112],{"type":31,"value":107},{"type":26,"tag":27,"props":114,"children":115},{},[116],{"type":31,"value":117},"Projelerimizi derleyerek yayına alabiliriz.",{"title":6,"searchDepth":119,"depth":119,"links":120},2,[],"markdown","content:nuxt-capacitor-newrelic.md","content","nuxt-capacitor-newrelic.md","nuxt-capacitor-newrelic","md",[],1730580286969]