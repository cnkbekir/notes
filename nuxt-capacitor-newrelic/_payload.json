[{"data":1,"prerenderedAt":127},["ShallowReactive",2],{"/nuxt-capacitor-newrelic":3,"search-api":126},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":5,"id":8,"date":9,"categories":10,"tags":12,"cover":5,"readingTime":16,"body":21,"_type":120,"_id":121,"_source":122,"_file":123,"_stem":124,"_extension":125},"/nuxt-capacitor-newrelic","",false,"Nuxt - Capacitor - New Relic","2","2023-11-16",[11],"web",[13,14,15],"nuxt","capacitor","newrelic",{"text":17,"minutes":18,"time":19,"words":20},"3 min read",2.02,121200,404,{"type":22,"children":23,"toc":117},"root",[24,32,42,47,61,66,74,86,91,99,104,112],{"type":25,"tag":26,"props":27,"children":28},"element","p",{},[29],{"type":30,"value":31},"text","Nuxt ve Capacitor ile geliştirdiğim mobil uygulamamı takip etmek için New Relic'i nasıl kurduğumu anlatıcam.\nÖncelikle New Relic ekibinin sunduğu paketi yüklüyoruz:",{"type":25,"tag":33,"props":34,"children":36},"pre",{"code":35},"npm i @newrelic/newrelic-capacitor-plugin && npx cap sync\n",[37],{"type":25,"tag":38,"props":39,"children":40},"code",{"__ignoreMap":5},[41],{"type":30,"value":35},{"type":25,"tag":26,"props":43,"children":44},{},[45],{"type":30,"value":46},"New Relic hesabımızda Add Data butonuyla kurulum ekranını açarak listeden Capacitor'ü seçiyoruz. Buradaki bilgilerin çoğunu o ekranda da bulabilirsiniz. Alacağımız token'ı aşağıdaki kodda da kullanıcaz.",{"type":25,"tag":26,"props":48,"children":49},{},[50,52],{"type":30,"value":51},"Vue.js projelerinde App.vue dosyasında yapılan paket ayarlarını Nuxt projelerinde plugins klasöründe yapabiliyoruz. Buraya eklediğimiz dosyalar otomatik çalışıyor. Bilgi için: ",{"type":25,"tag":53,"props":54,"children":58},"a",{"href":55,"rel":56},"https://nuxt.com/docs/guide/directory-structure/plugins",[57],"nofollow",[59],{"type":30,"value":60},"plugins/ · Nuxt Directory Structure",{"type":25,"tag":26,"props":62,"children":63},{},[64],{"type":30,"value":65},"Projede plugins klasörü altında newrelic.ts dosyasını oluşturuyoruz:",{"type":25,"tag":33,"props":67,"children":69},{"code":68},"import { NewRelicCapacitorPlugin, NREnums, AgentConfiguration } from '@newrelic/newrelic-capacitor-plugin';\nimport { Capacitor } from '@capacitor/core';\n\nexport default defineNuxtPlugin(() => {\n  var appToken;\n  if (Capacitor.getPlatform() === 'ios') {\n    appToken = '...';\n  } else {\n    appToken = '...';\n  }\n\n  let agentConfig : AgentConfiguration = {\n    //Android Specific\n    // Optional:Enable or disable collection of event data.\n    analyticsEventEnabled: true,\n\n    // Optional:Enable or disable crash reporting.\n    crashReportingEnabled: true,\n\n    // Optional:Enable or disable interaction tracing. Trace instrumentation still occurs, but no traces are harvested. This will disable default and custom interactions.\n    interactionTracingEnabled: true,\n\n    // Optional:Enable or disable reporting successful HTTP requests to the MobileRequest event type.\n    networkRequestEnabled: true,\n\n    // Optional:Enable or disable reporting network and HTTP request errors to the MobileRequestError event type.\n    networkErrorRequestEnabled: true,\n\n    // Optional:Enable or disable capture of HTTP response bodies for HTTP error traces, and MobileRequestError events.\n    httpResponseBodyCaptureEnabled: true,\n\n    // Optional:Enable or disable agent logging.\n    loggingEnabled: true,\n\n    // Optional:Specifies the log level. Omit this field for the default log level.\n    // Options include: ERROR (least verbose), WARNING, INFO, VERBOSE, AUDIT (most verbose).\n    logLevel: NREnums.LogLevel.ERROR,\n\n    // iOS Specific\n    // Optional:Enable/Disable automatic instrumentation of WebViews\n    webViewInstrumentation: true,\n\n    // Optional:Set a specific collector address for sending data. Omit this field for default address.\n    // collectorAddress: \"\",\n\n    // Optional:Set a specific crash collector address for sending crashes. Omit this field for default address.\n    // crashCollectorAddress: \"\",\n\n    // Optional:Enable or disable sending JS console logs to New Relic.\n    sendConsoleEvents: true,\n\n    // Optional: nable or disable reporting data using different endpoints for US government clients.\n     fedRampEnabled: false\n  }\n\n  NewRelicCapacitorPlugin.start({appKey:appToken, agentConfiguration:agentConfig})\n})\n\n",[70],{"type":25,"tag":38,"props":71,"children":72},{"__ignoreMap":5},[73],{"type":30,"value":68},{"type":25,"tag":26,"props":75,"children":76},{},[77,79],{"type":30,"value":78},"Burada fedRampEnabled ayarı ile ilgili bir sorun varmış. Bundan dolayı çok test yapmak zorunda kaldım. GitHub'da bir issue oluşturdum ve sorun kısa sürede çözüldü: ",{"type":25,"tag":53,"props":80,"children":83},{"href":81,"rel":82},"https://github.com/newrelic/newrelic-capacitor-plugin/issues/59",[57],[84],{"type":30,"value":85},"Can't get android logs - Nuxt3 - Ionic · Issue #59 · newrelic/newrelic-capacitor-plugin (github.com)",{"type":25,"tag":26,"props":87,"children":88},{},[89],{"type":30,"value":90},"Android için build.gradle dosyamızı düzenliyoruz:",{"type":25,"tag":33,"props":92,"children":94},{"code":93},"buildscript {\n    ...\n    repositories {\n      ...\n      mavenCentral()\n    }\n    dependencies {\n      ...\n      classpath \"com.newrelic.agent.android:agent-gradle-plugin:7.1.0\"\n    }\n  }\n",[95],{"type":25,"tag":38,"props":96,"children":97},{"__ignoreMap":5},[98],{"type":30,"value":93},{"type":25,"tag":26,"props":100,"children":101},{},[102],{"type":30,"value":103},"Ve app/build.gradle dosyamızı düzenliyoruz:",{"type":25,"tag":33,"props":105,"children":107},{"code":106},"apply plugin: \"com.android.application\"\napply plugin: 'newrelic' // \u003C-- bu satırı ekle\n",[108],{"type":25,"tag":38,"props":109,"children":110},{"__ignoreMap":5},[111],{"type":30,"value":106},{"type":25,"tag":26,"props":113,"children":114},{},[115],{"type":30,"value":116},"Projelerimizi derleyerek yayına alabiliriz.",{"title":5,"searchDepth":118,"depth":118,"links":119},2,[],"markdown","content:nuxt-capacitor-newrelic.md","content","nuxt-capacitor-newrelic.md","nuxt-capacitor-newrelic","md",[],1730633586176]